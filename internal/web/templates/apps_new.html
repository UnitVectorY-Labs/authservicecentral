{{define "title"}}New Application â€” authservicecentral{{end}}
{{define "content"}}
<div class="space-y-6">
  <h1 class="text-2xl font-bold text-gray-900">New Application</h1>

  <form method="POST" action="/admin/apps/new" class="space-y-6 max-w-xl">
    {{if .Error}}<div class="rounded-md bg-red-50 p-4 text-sm text-red-800">{{.Error}}</div>{{end}}
    
    <div>
      <label for="subject" class="block text-sm font-medium text-gray-700">Subject</label>
      <input type="text" id="subject" name="subject" value="{{.Subject}}" required
             pattern="[a-zA-Z0-9._-]+" maxlength="255"
             class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
      <p class="mt-1 text-xs text-gray-500">Unique identifier used in JWT claims. Letters, numbers, dots, hyphens, and underscores only.</p>
    </div>

    <div>
      <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
      <input type="text" id="description" name="description" value="{{.Description}}" maxlength="255"
             class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
    </div>

    <div>
      <label for="app_type" class="block text-sm font-medium text-gray-700">Application Type</label>
      <select id="app_type" name="app_type" required
              class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
        <option value="service" {{if eq .AppType "service"}}selected{{end}}>Service</option>
        <option value="admin" {{if eq .AppType "admin"}}selected{{end}}>Admin</option>
        <option value="user_agent" {{if eq .AppType "user_agent"}}selected{{end}}>User Agent</option>
      </select>
    </div>

    <div class="flex items-center space-x-3">
      <button type="submit" class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-500">Create Application</button>
      <a href="/admin/apps" class="text-sm text-gray-500 hover:text-gray-700">Cancel</a>
    </div>
  </form>
</div>
{{end}}
